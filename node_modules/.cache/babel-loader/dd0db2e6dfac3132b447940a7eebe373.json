{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Alexandre\\\\IdeaProjects\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Alexandre\\\\IdeaProjects\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";var API_URL=\"http://localhost:3001/\";var header={'Access-Control-Allow-Origin':\"*\"};var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(adresseMail,password){var reponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(API_URL+\"user/admin\",{adresseMail:adresseMail,password:password},{headers:header}).catch(function(error){if(error.response.status===400){throw new Error(\"Les identifiants n'existent pas dans la base de données\");}else if(error.response.status===404){throw new Error(\"Utilisateur inconnu pour cet administrateur\");}else if(error.response.status===500){throw new Error(\"Erreur de connexion\");}});case 2:reponse=_context.sent;header={'Authorization':'Bearer '+reponse.data.token,'Accept-version':\"1.0.0\",'Access-Control-Allow-Origin':\"*\"};return _context.abrupt(\"return\",reponse.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function login(_x,_x2){return _ref.apply(this,arguments);};}();var getAllGarage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var reponse;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(API_URL+\"garage/\",{headers:header}).catch(function(error){if(error.response.status===404)throw new Error(\"Garage inconnu\");else if(error.response.status===500)throw new Error(\"Erreur de connexion\");});case 2:reponse=_context2.sent;console.log(JSON.stringify(reponse.data));return _context2.abrupt(\"return\",reponse.data);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getAllGarage(){return _ref2.apply(this,arguments);};}();var deleteGarage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(idGarage){var reponse;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(API_URL+\"garage/\",{headers:header,data:{id:idGarage}}).catch(function(error){if(error.response.status===404)throw new Error(\"Garage inconnu\");});case 2:reponse=_context3.sent;return _context3.abrupt(\"return\",reponse.status);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteGarage(_x3){return _ref3.apply(this,arguments);};}();var postGarage=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(nom,adresse,numTel,image){var reponse;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(nom,adresse,numTel,image);_context4.next=3;return axios.post(API_URL+\"garage/\",{nom:nom,adresse:adresse,numTel:numTel,image:image},{headers:header}).catch(function(error){if(error.response.status===500){throw new Error(\"Erreur sdur le serveur\");}else if(error.response.status===400){throw new Error(\"Erreur sur les éléments de la requête\");}});case 3:reponse=_context4.sent;return _context4.abrupt(\"return\",reponse.data);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function postGarage(_x4,_x5,_x6,_x7){return _ref4.apply(this,arguments);};}();var updateGarage=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id,nom,adresse,numTel){var reponse;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(nom);_context5.next=3;return axios.patch(API_URL+\"garage/\",{headers:header,data:{id:id,nom:nom,adresse:adresse,numTel:numTel}}).catch(function(error){if(error.response.status===500){throw new Error(\"Ressource manquante\");}});case 3:reponse=_context5.sent;return _context5.abrupt(\"return\",reponse.data);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function updateGarage(_x8,_x9,_x10,_x11){return _ref5.apply(this,arguments);};}();var getAllMecanicien=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var reponse;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.get(API_URL+\"mecano/\",{headers:header}).catch(function(error){if(error.response.status===404)throw new Error(\"Pas de mécanicien dans la base de dinnées\");else if(error.response.status===500)throw new Error(\"Erreur de connexion\");});case 2:reponse=_context6.sent;return _context6.abrupt(\"return\",reponse.data);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function getAllMecanicien(){return _ref6.apply(this,arguments);};}();var deleteMecanicien=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(idMecanicien){var reponse;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios.delete(API_URL+\"mecano/\",{headers:header,data:{id:idMecanicien}}).catch(function(error){if(error.response.status===404)throw new Error(\"Mecano inconnu\");});case 2:reponse=_context7.sent;return _context7.abrupt(\"return\",reponse.status);case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function deleteMecanicien(_x12){return _ref7.apply(this,arguments);};}();var updateMecanicien=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id,nom,prenom,password){var reponse;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios.patch(API_URL+\"mecano/\",{headers:header,data:{id:id,nom:nom,prenom:prenom,password:password}}).catch(function(error){if(error.response.status===500){throw new Error(\"Ressource manquante\");}});case 2:reponse=_context8.sent;return _context8.abrupt(\"return\",reponse.data);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function updateMecanicien(_x13,_x14,_x15,_x16){return _ref8.apply(this,arguments);};}();var postMecanicien=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(nom,prenom,password,adresseMail,garage_fk){var reponse;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log(nom,prenom,password,adresseMail,garage_fk);_context9.next=3;return axios.post(API_URL+\"mecano/\",{nom:nom,prenom:prenom,password:password,adresseMail:adresseMail,garage_fk:garage_fk},{headers:header}).catch(function(error){if(error.response.status===500){throw new Error(\"Erreur sdur le serveur\");}else if(error.response.status===400){throw new Error(\"Erreur sur les éléments de la requête\");}});case 3:reponse=_context9.sent;return _context9.abrupt(\"return\",reponse.data);case 5:case\"end\":return _context9.stop();}}},_callee9);}));return function postMecanicien(_x17,_x18,_x19,_x20,_x21){return _ref9.apply(this,arguments);};}();var getAllDispo=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var reponse;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return axios.get(API_URL+\"dispo/\",{headers:header}).catch(function(error){if(error.response.status===404)throw new Error(\"Pas de mécanicien dans la base de dinnées\");else if(error.response.status===500)throw new Error(\"Erreur de connexion\");});case 2:reponse=_context10.sent;return _context10.abrupt(\"return\",reponse.data);case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function getAllDispo(){return _ref10.apply(this,arguments);};}();var deleteDispo=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(id,mecanicien_fk){var reponse;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return axios.delete(API_URL+\"dispo/\",{headers:header,data:{id:id,mecanicien_fk:mecanicien_fk}}).catch(function(error){if(error.response.status===404)throw new Error(\"Mecano inconnu\");});case 2:reponse=_context11.sent;return _context11.abrupt(\"return\",reponse.status);case 4:case\"end\":return _context11.stop();}}},_callee11);}));return function deleteDispo(_x22,_x23){return _ref11.apply(this,arguments);};}();var updateDispo=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(id,date,isbooked,idMecano,idReparation){var reponse;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return axios.patch(API_URL+\"dispo/\",{headers:header,data:{id:id,date:date,isBooked:isbooked,idMecano:idMecano,idReparation:idReparation}}).catch(function(error){if(error.response.status===500){throw new Error(\"Ressource manquante\");}});case 2:reponse=_context12.sent;return _context12.abrupt(\"return\",reponse.data);case 4:case\"end\":return _context12.stop();}}},_callee12);}));return function updateDispo(_x24,_x25,_x26,_x27,_x28){return _ref12.apply(this,arguments);};}();var postDispo=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(date,isBooked,idMecanicien,idReparation){var reponse;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return axios.post(API_URL+\"dispo/\",{date:date,isBooked:isBooked,idMecanicien:idMecanicien,idReparation:idReparation},{headers:header}).catch(function(error){if(error.response.status===500){throw new Error(\"Erreur sdur le serveur\");}else if(error.response.status===400){throw new Error(\"Erreur sur les éléments de la requête\");}});case 2:reponse=_context13.sent;return _context13.abrupt(\"return\",reponse.data);case 4:case\"end\":return _context13.stop();}}},_callee13);}));return function postDispo(_x29,_x30,_x31,_x32){return _ref13.apply(this,arguments);};}();export{login,getAllGarage,deleteGarage,postGarage,updateGarage,getAllMecanicien,deleteMecanicien,updateMecanicien,postMecanicien,getAllDispo,deleteDispo,updateDispo,postDispo};","map":{"version":3,"sources":["C:/Users/Alexandre/IdeaProjects/client_web_avence/src/component/API/API.js"],"names":["axios","API_URL","header","login","adresseMail","password","post","headers","catch","error","response","status","Error","reponse","data","token","getAllGarage","get","console","log","JSON","stringify","deleteGarage","idGarage","delete","id","postGarage","nom","adresse","numTel","image","updateGarage","patch","getAllMecanicien","deleteMecanicien","idMecanicien","updateMecanicien","prenom","postMecanicien","garage_fk","getAllDispo","deleteDispo","mecanicien_fk","updateDispo","date","isbooked","idMecano","idReparation","isBooked","postDispo"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:3001/\";\r\nlet header = {'Access-Control-Allow-Origin' : \"*\"}\r\n\r\nconst login = async(adresseMail,password)=>{\r\n    const reponse = await axios.post(API_URL+\"user/admin\",{\r\n        adresseMail,\r\n        password\r\n    },{\r\n        headers : header\r\n    }).catch(error=>{\r\n\r\n        if(error.response.status === 400){\r\n            throw new Error(\"Les identifiants n'existent pas dans la base de données\");\r\n        }else if(error.response.status === 404){\r\n            throw new Error(\"Utilisateur inconnu pour cet administrateur\");\r\n        }else if(error.response.status === 500){\r\n            throw new Error(\"Erreur de connexion\");\r\n        }\r\n\r\n    });\r\n    header = {\r\n        'Authorization': 'Bearer ' + reponse.data.token,\r\n        'Accept-version' : \"1.0.0\",\r\n        'Access-Control-Allow-Origin' : \"*\"\r\n    }\r\n\r\n\r\n    return reponse.data;\r\n\r\n\r\n}\r\nconst getAllGarage = async ()=>{\r\n    const reponse = await axios.get(API_URL+\"garage/\",{\r\n    headers : header\r\n    }).catch(error=>{\r\n        if(error.response.status === 404)\r\n            throw new Error(\"Garage inconnu\");\r\n        else if(error.response.status === 500)\r\n            throw new Error(\"Erreur de connexion\");\r\n    });\r\n    console.log(JSON.stringify(reponse.data));\r\n    return reponse.data;\r\n}\r\nconst deleteGarage = async(idGarage)=>{\r\n    const reponse = await axios.delete(API_URL+\"garage/\",{\r\n        headers:header,\r\n        data:{\r\n            id : idGarage\r\n        }\r\n    }).catch(error=>{\r\n        if(error.response.status === 404)\r\n        throw new Error(\"Garage inconnu\");\r\n    });\r\n    return reponse.status;\r\n}\r\nconst postGarage = async(nom,adresse,numTel,image)=>{\r\n    console.log(nom,adresse,numTel,image);\r\n    const reponse = await axios.post(API_URL+\"garage/\", {\r\n        nom:nom,\r\n        adresse:adresse,\r\n        numTel:numTel,\r\n        image:image\r\n    },{\r\n        headers : header\r\n    }).catch(error=>{\r\n        if(error.response.status===500){\r\n            throw new Error(\"Erreur sdur le serveur\")\r\n        }else if(error.response.status === 400){\r\n            throw new Error(\"Erreur sur les éléments de la requête\");\r\n        }\r\n    });\r\n    return reponse.data;\r\n}\r\nconst updateGarage = async(id,nom,adresse,numTel)=>{\r\n    console.log(nom);\r\n    const reponse = await axios.patch(API_URL+\"garage/\",{\r\n        headers:header,\r\n        data : {\r\n            id : id,\r\n            nom:nom,\r\n            adresse: adresse,\r\n            numTel : numTel\r\n        }\r\n    }).catch(error=>{\r\n        if(error.response.status === 500){\r\n            throw new Error(\"Ressource manquante\");\r\n        }\r\n    });\r\n    return reponse.data;\r\n}\r\nconst getAllMecanicien = async()=>{\r\n    const reponse = await axios.get(API_URL+\"mecano/\",{\r\n        headers : header\r\n    }).catch(error=>{\r\n        if(error.response.status === 404)\r\n            throw new Error(\"Pas de mécanicien dans la base de dinnées\");\r\n        else if(error.response.status === 500)\r\n            throw new Error(\"Erreur de connexion\");\r\n    })\r\n    return reponse.data;\r\n}\r\nconst deleteMecanicien =  async(idMecanicien)=>{\r\n    const reponse = await axios.delete(API_URL+\"mecano/\",{\r\n        headers:header,\r\n        data:{\r\n            id : idMecanicien\r\n        }\r\n    }).catch(error=>{\r\n        if(error.response.status === 404)\r\n            throw new Error(\"Mecano inconnu\");\r\n    });\r\n    return reponse.status;\r\n}\r\nconst updateMecanicien= async(id,nom,prenom,password)=>{\r\n    const reponse = await axios.patch(API_URL+\"mecano/\",{\r\n        headers:header,\r\n        data : {\r\n            id : id,\r\n            nom:nom,\r\n            prenom: prenom,\r\n            password : password\r\n        }\r\n    }).catch(error=>{\r\n        if(error.response.status === 500){\r\n            throw new Error(\"Ressource manquante\");\r\n        }\r\n    });\r\n    return reponse.data;\r\n}\r\nconst postMecanicien = async(nom,prenom,password,adresseMail,garage_fk)=>{\r\n    console.log(nom,prenom,password,adresseMail,garage_fk);\r\n    const reponse = await axios.post(API_URL+\"mecano/\", {\r\n        nom:nom,\r\n        prenom:prenom,\r\n        password:password,\r\n        adresseMail:adresseMail,\r\n        garage_fk : garage_fk\r\n    },{\r\n        headers : header\r\n    }).catch(error=>{\r\n        if(error.response.status===500){\r\n            throw new Error(\"Erreur sdur le serveur\")\r\n        }else if(error.response.status === 400){\r\n            throw new Error(\"Erreur sur les éléments de la requête\");\r\n        }\r\n    });\r\n    return reponse.data;\r\n}\r\nconst getAllDispo = async()=>{\r\n    const reponse = await axios.get(API_URL+\"dispo/\",{\r\n        headers : header\r\n    }).catch(error=>{\r\n        if(error.response.status === 404)\r\n            throw new Error(\"Pas de mécanicien dans la base de dinnées\");\r\n        else if(error.response.status === 500)\r\n            throw new Error(\"Erreur de connexion\");\r\n    })\r\n    return reponse.data;\r\n}\r\nconst deleteDispo =  async(id,mecanicien_fk)=>{\r\n    const reponse = await axios.delete(API_URL+\"dispo/\",{\r\n        headers:header,\r\n        data:{\r\n            id : id,\r\n            mecanicien_fk : mecanicien_fk\r\n        }\r\n    }).catch(error=>{\r\n        if(error.response.status === 404)\r\n            throw new Error(\"Mecano inconnu\");\r\n    });\r\n    return reponse.status;\r\n}\r\nconst updateDispo= async(id,date,isbooked,idMecano,idReparation)=>{\r\n    const reponse = await axios.patch(API_URL+\"dispo/\",{\r\n        headers:header,\r\n        data : {\r\n            id : id,\r\n            date:date,\r\n            isBooked: isbooked,\r\n            idMecano : idMecano,\r\n            idReparation : idReparation\r\n        }\r\n    }).catch(error=>{\r\n        if(error.response.status === 500){\r\n            throw new Error(\"Ressource manquante\");\r\n        }\r\n    });\r\n    return reponse.data;\r\n}\r\nconst postDispo = async(date,isBooked,idMecanicien,idReparation)=>{\r\n    const reponse = await axios.post(API_URL+\"dispo/\", {\r\n        date:date,\r\n        isBooked:isBooked,\r\n        idMecanicien:idMecanicien,\r\n        idReparation:idReparation,\r\n    },{\r\n        headers : header\r\n    }).catch(error=>{\r\n        if(error.response.status===500){\r\n            throw new Error(\"Erreur sdur le serveur\")\r\n        }else if(error.response.status === 400){\r\n            throw new Error(\"Erreur sur les éléments de la requête\");\r\n        }\r\n    });\r\n    return reponse.data;\r\n}\r\n\r\nexport {\r\n    login,\r\n    getAllGarage,\r\n    deleteGarage,\r\n    postGarage,\r\n    updateGarage,\r\n    getAllMecanicien,\r\n    deleteMecanicien,\r\n    updateMecanicien,\r\n    postMecanicien,\r\n    getAllDispo,\r\n    deleteDispo,\r\n    updateDispo,\r\n    postDispo,\r\n\r\n}"]},"metadata":{},"sourceType":"module"}