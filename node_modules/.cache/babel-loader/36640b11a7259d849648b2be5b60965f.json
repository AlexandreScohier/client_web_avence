{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Fragment,useState}from\"react\";import AddGarage from\"./AddGarage\";import RowReadGarage from\"./RowReadGarage\";import RowEditGarage from\"./RowEditGarage\";import\"../../style/tableStyle.css\";import{getAllGarage}from\"../API\";var TableauGarage=/*#__PURE__*/function(_React$Component){_inherits(TableauGarage,_React$Component);var _super=_createSuper(TableauGarage);function TableauGarage(props){var _this;_classCallCheck(this,TableauGarage);_this=_super.call(this,props);_this.handleEditClick=function(event,index){event.preventDefault();_this.setState({idEdit:index});};_this.getAllElements=_this.props.getAllElements;_this.deleteElement=_this.props.deleteElement;_this.updateGarage=_this.props.updateGarage;_this.postGarage=_this.props.postGarage;_this.state={elements:[],idEdit:null,idDelete:null};return _this;}_createClass(TableauGarage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.getAllElements().then(function(response){return _this2.setState({elements:response});}).catch(function(error){return console.error(error);});}},{key:\"renderTableHeader\",value:function renderTableHeader(tab){var titles=[];for(var name in tab){if(name!==\"id\"){titles.push(name);}}return titles;}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,this.renderTableHeader(this.state.elements[0]).map(function(title,index){return/*#__PURE__*/React.createElement(\"th\",{key:index},title);}),/*#__PURE__*/React.createElement(\"th\",{key:\"titleTh\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.elements.map(function(element,index){return/*#__PURE__*/React.createElement(Fragment,{key:index},_this3.state.idEdit===index?/*#__PURE__*/React.createElement(RowEditGarage,{handleEditClick:_this3.handleEditClick,element:element,renderTableHeader:_this3.renderTableHeader}):/*#__PURE__*/React.createElement(RowReadGarage,{element:element,handleDeleteClick:_this3.deleteElement,index:index,renderTableHeader:_this3.renderTableHeader}));}))),/*#__PURE__*/React.createElement(AddGarage,{renderTableHeader:this.renderTableHeader,element:this.state.elements[0]})));}}]);return TableauGarage;}(React.Component);export default TableauGarage;","map":{"version":3,"sources":["C:/Users/matth/Desktop/client_web_avence/src/component/Garage/GarageTable.js"],"names":["React","Fragment","useState","AddGarage","RowReadGarage","RowEditGarage","getAllGarage","TableauGarage","props","handleEditClick","event","index","preventDefault","setState","idEdit","getAllElements","deleteElement","updateGarage","postGarage","state","elements","idDelete","then","response","catch","error","console","tab","titles","name","push","renderTableHeader","map","title","element","Component"],"mappings":"gpBAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAO,4BAAP,CACA,OAAQC,YAAR,KAA2B,QAA3B,C,GAEMC,CAAAA,a,0HACF,uBAAYC,KAAZ,CAAmB,+CACf,uBAAMA,KAAN,EADe,MAiBnBC,eAjBmB,CAiBD,SAACC,KAAD,CAAQC,KAAR,CAAkB,CAChCD,KAAK,CAACE,cAAN,GACA,MAAKC,QAAL,CAAc,CAACC,MAAM,CAAGH,KAAV,CAAd,EACH,CApBkB,CAEf,MAAKI,cAAL,CAAsB,MAAKP,KAAL,CAAWO,cAAjC,CACA,MAAKC,aAAL,CAAqB,MAAKR,KAAL,CAAWQ,aAAhC,CACA,MAAKC,YAAL,CAAoB,MAAKT,KAAL,CAAWS,YAA/B,CACA,MAAKC,UAAL,CAAkB,MAAKV,KAAL,CAAWU,UAA7B,CACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAETN,MAAM,CAAE,IAFC,CAGTO,QAAQ,CAAE,IAHD,CAAb,CANe,aAYlB,C,2DACD,4BAAoB,iBAChB,KAAKN,cAAL,GAAsBO,IAAtB,CAA2B,SAAAC,QAAQ,QAAE,CAAA,MAAI,CAACV,QAAL,CAAc,CAACO,QAAQ,CAACG,QAAV,CAAd,CAAF,EAAnC,EAAyEC,KAAzE,CAA+E,SAAAC,KAAK,QAAEC,CAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAF,EAApF,EACH,C,iCAOD,2BAAkBE,GAAlB,CAAuB,CACnB,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,IAAK,GAAIC,CAAAA,IAAT,GAAiBF,CAAAA,GAAjB,CAAsB,CAClB,GAAIE,IAAI,GAAK,IAAb,CAAmB,CACfD,MAAM,CAACE,IAAP,CAAYD,IAAZ,EACH,CACJ,CACD,MAAOD,CAAAA,MAAP,CACH,C,sBACD,iBAAS,iBACL,mBACI,4CACI,6CACA,8CACI,8CACI,8BAEQ,KAAKG,iBAAL,CAAuB,KAAKZ,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAvB,EAA+CY,GAA/C,CAAmD,SAACC,KAAD,CAAOtB,KAAP,CAAe,CAC1D,mBAAO,0BAAI,GAAG,CAAEA,KAAT,EAAiBsB,KAAjB,CAAP,CAEP,CAHD,CAFR,cAOI,0BAAI,GAAG,CAAE,SAAT,WAPJ,CADJ,CADJ,cAYI,iCAEI,KAAKd,KAAL,CAAWC,QAAX,CAAoBY,GAApB,CAAwB,SAACE,OAAD,CAASvB,KAAT,qBACpB,oBAAC,QAAD,EAAU,GAAG,CAAEA,KAAf,EACM,MAAI,CAACQ,KAAL,CAAWL,MAAX,GAAsBH,KAAtB,cACE,oBAAC,aAAD,EAAe,eAAe,CAAI,MAAI,CAACF,eAAvC,CAAwD,OAAO,CAAEyB,OAAjE,CAA0E,iBAAiB,CAAE,MAAI,CAACH,iBAAlG,EADF,cAGE,oBAAC,aAAD,EAAe,OAAO,CAAEG,OAAxB,CAAiC,iBAAiB,CAAI,MAAI,CAAClB,aAA3D,CAA0E,KAAK,CAAEL,KAAjF,CAAwF,iBAAiB,CAAE,MAAI,CAACoB,iBAAhH,EAJR,CADoB,EAAxB,CAFJ,CAZJ,CADA,cA0BI,oBAAC,SAAD,EAAW,iBAAiB,CAAE,KAAKA,iBAAnC,CAAsD,OAAO,CAAI,KAAKZ,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAjE,EA1BJ,CADJ,CADJ,CAkCH,C,2BAnEuBpB,KAAK,CAACmC,S,EAqElC,cAAe5B,CAAAA,aAAf","sourcesContent":["import React,{Fragment, useState} from \"react\";\r\nimport AddGarage from \"./AddGarage\";\r\nimport RowReadGarage from \"./RowReadGarage\";\r\nimport RowEditGarage from \"./RowEditGarage\";\r\nimport \"../../style/tableStyle.css\";\r\nimport {getAllGarage} from \"../API\";\r\n\r\nclass TableauGarage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.getAllElements = this.props.getAllElements;\r\n        this.deleteElement = this.props.deleteElement;\r\n        this.updateGarage = this.props.updateGarage;\r\n        this.postGarage = this.props.postGarage;\r\n        this.state = {\r\n            elements: [],\r\n            idEdit: null,\r\n            idDelete: null,\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.getAllElements().then(response=>this.setState({elements:response})).catch(error=>console.error(error));\r\n    }\r\n\r\n    handleEditClick = (event, index) => {\r\n        event.preventDefault();\r\n        this.setState({idEdit : index});\r\n    }\r\n\r\n    renderTableHeader(tab) {\r\n        let titles = [];\r\n        for (let name in tab) {\r\n            if (name !== \"id\") {\r\n                titles.push(name);\r\n            }\r\n        }\r\n        return titles;\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            {\r\n                                this.renderTableHeader(this.state.elements[0]).map((title,index)=>{\r\n                                        return <th key={index}>{title}</th>;\r\n\r\n                                })\r\n                            }\r\n                            <th key={\"titleTh\"}>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {\r\n                        this.state.elements.map((element,index)=>(\r\n                            <Fragment key={index}>\r\n                                { this.state.idEdit === index ? (\r\n                                    <RowEditGarage handleEditClick = {this.handleEditClick} element={element} renderTableHeader={this.renderTableHeader}/>\r\n                                ) : (\r\n                                    <RowReadGarage element={element} handleDeleteClick = {this.deleteElement} index={index} renderTableHeader={this.renderTableHeader}/>\r\n                                )}\r\n                            </Fragment>\r\n                            ))}\r\n                    </tbody>\r\n                </table>\r\n                    <AddGarage renderTableHeader={this.renderTableHeader} element = {this.state.elements[0]}/>\r\n                </form>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\nexport default TableauGarage;"]},"metadata":{},"sourceType":"module"}