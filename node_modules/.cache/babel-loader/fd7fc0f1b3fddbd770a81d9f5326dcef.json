{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Alexandre\\\\IdeaProjects\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Alexandre\\\\IdeaProjects\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Alexandre\\\\IdeaProjects\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Alexandre\\\\IdeaProjects\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import SideBar from\"../component/Nav/SideBar\";import Connection from\"../component/Login/Connection\";import{connect}from\"react-redux\";var Routes=/*#__PURE__*/function(_React$Component){_inherits(Routes,_React$Component);var _super=_createSuper(Routes);function Routes(props){var _this;_classCallCheck(this,Routes);_this=_super.call(this,props);_this.state={isConnected:undefined};return _this;}_createClass(Routes,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.state.user===undefined){this.setState({user:this.props.userStore});}}},{key:\"render\",value:function render(){var _this2=this;var HomeComponent=function HomeComponent(){return _this2.state.isConnected?/*#__PURE__*/React.createElement(SideBar,null):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});};var LoginComponent=function LoginComponent(){return _this2.state.isConnected?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(Connection,null);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",component:LoginComponent}),/*#__PURE__*/React.createElement(Route,{path:\"/\",component:HomeComponent}),/*#__PURE__*/React.createElement(Route,{path:\"/Logout\",onEnter:function onEnter(){return _this2.props.login(undefined);}}))));}}]);return Routes;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{userStore:state.login.userStore};};export default connect(mapStateToProps)(Routes);","map":{"version":3,"sources":["C:/Users/Alexandre/IdeaProjects/client_web_avence/src/routes/Routes.js"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","SideBar","Connection","connect","Routes","props","state","isConnected","undefined","user","setState","userStore","HomeComponent","LoginComponent","login","Component","mapStateToProps"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,aAAa,GAAIC,CAAAA,MADrB,CAEIC,MAFJ,CAGIC,KAHJ,CAIIC,QAJJ,KAMO,kBANP,CAQA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,OAAQC,OAAR,KAAsB,aAAtB,C,GAIMC,CAAAA,M,4GACF,gBAAYC,KAAZ,CAAkB,wCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,WAAW,CAAEC,SAAd,CAAb,CAFc,aAGjB,C,qDAED,6BAAqB,CACjB,GAAG,KAAKF,KAAL,CAAWG,IAAX,GAAoBD,SAAvB,CAAiC,CAC7B,KAAKE,QAAL,CAAc,CAACD,IAAI,CAAC,KAAKJ,KAAL,CAAWM,SAAjB,CAAd,EACH,CAEJ,C,sBAGD,iBAAS,iBACL,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAM,CAAA,MAAI,CAACN,KAAL,CAAWC,WAAX,cAAyB,oBAAC,OAAD,MAAzB,cAAsC,oBAAC,QAAD,EAAU,EAAE,CAAE,QAAd,EAA5C,EAAtB,CACA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,SAAM,CAAA,MAAI,CAACP,KAAL,CAAWC,WAAX,cAAyB,oBAAC,QAAD,EAAU,EAAE,CAAE,GAAd,EAAzB,cAAgD,oBAAC,UAAD,MAAtD,EAAvB,CACA,mBACI,4CACI,oBAAC,MAAD,mBACI,oBAAC,MAAD,mBACI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEM,cAAtC,EADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAED,aAA3B,EAFJ,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACP,KAAL,CAAWS,KAAX,CAAiBN,SAAjB,CAAN,EAA/B,EAHJ,CADJ,CADJ,CADJ,CAgCP,C,oBAjDoBb,KAAK,CAACoB,S,EAmD3B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACV,KAAD,CAAW,CAC/B,MAAO,CACHK,SAAS,CAAEL,KAAK,CAACQ,KAAN,CAAYH,SADpB,CAAP,CAGH,CAJD,CAMA,cAAeR,CAAAA,OAAO,CAACa,eAAD,CAAP,CAAyBZ,MAAzB,CAAf","sourcesContent":["import React from \"react\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Redirect,\r\n    \r\n} from \"react-router-dom\";\r\n\r\nimport SideBar from \"../component/Nav/SideBar\"\r\nimport Connection from \"../component/Login/Connection\"\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nclass Routes extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {isConnected :undefined}\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.user === undefined){\r\n            this.setState({user:this.props.userStore});\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n    render() {\r\n        const HomeComponent = () => this.state.isConnected ? <SideBar/> : <Redirect to={\"/login\"}/>\r\n        const LoginComponent = () => this.state.isConnected ? <Redirect to={\"/\"}/> : <Connection/>\r\n        return (\r\n            <div >\r\n                <Router>\r\n                    <Switch>\r\n                        <Route exact path=\"/login\" component={LoginComponent}/>\r\n                        <Route path=\"/\" component={HomeComponent}/>\r\n                        <Route path=\"/Logout\" onEnter={() => this.props.login(undefined)}/>\r\n                        {/* <Route path=\"/login\" component={Login}/> */}\r\n\r\n                        {/* <Route path=\"/menu\" render={()=>{\r\n                            return this.state.user === undefined ? <Redirect to=\"/login\"/>:\r\n                                (this.state.user.userType === \"mecano\")? <Menu/> : <Redirect to={\"/\"}/>\r\n                        }}/>\r\n\r\n                        <Route path=\"/garages\" render={()=>{\r\n                        return this.state.user === undefined? <Redirect to={\"/login\"}/> : (this.state.user.userType === \"mecano\")?<Tableau getAllElements = {getAllGarage} deleteElement = {deleteGarage} updateGarage = {updateGarage} postGarage = {postGarage}/> : <Redirect to={'/login'}/>\r\n                        }}/>\r\n\r\n                        <Route path=\"/mecano\" render={()=>{\r\n                            return this.state.user === undefined? <Redirect to={\"/login\"}/> : (this.state.user.userType === \"mecano\")?<Tableau getAllElements = {getAllMecanicien} deleteElement = {deleteMecanicien} updateGarage = {updateMecanicien} postGarage = {postMecano}/> : <Redirect to={'/login'}/>\r\n                        }}/>\r\n                        <Route path=\"/dispos\" render={()=>{\r\n                            return this.state.user === undefined? <Redirect to={\"/login\"}/> : (this.state.user.userType === \"mecano\")?<Tableau getAllElements = {getAllDispo} deleteElement = {deleteDispo} updateGarage = {upDateDispo} postGarage = {postDispo}/> : <Redirect to={'/login'}/>\r\n\r\n                        }}/> */}\r\n\r\n\r\n\r\n                    </Switch>\r\n                </Router>\r\n            </div>\r\n        );\r\n}\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userStore: state.login.userStore,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Routes);"]},"metadata":{},"sourceType":"module"}