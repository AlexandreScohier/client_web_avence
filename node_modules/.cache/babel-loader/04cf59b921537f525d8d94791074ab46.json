{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matth\\\\Desktop\\\\d\\xE9veloppement de client avanc\\xE9\\\\Correction\\\\react-component\\\\src\\\\component\\\\SearchForm.js\";\nimport React from 'react';\nimport SearchBar from './SearchBar';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nclass SearchForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      employes: this.props.employes,\n      employesToShow: this.props.employes,\n      inputNom: \"\",\n      inputPrenom: \"\",\n      inputAge: \"\"\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props !== prevProps) {\n      this.setState({\n        employes: this.props.employes,\n        employesToShow: this.props.employes\n      });\n    }\n  }\n\n  addEmploye(event) {\n    event.preventDefault();\n    const newEmploye = {\n      nom: this.state.inputNom,\n      prenom: this.state.inputPrenom,\n      age: parseInt(this.state.inputAge)\n    };\n    this.props.addEmploye(newEmploye);\n  }\n\n  changeValuesToShow(string) {\n    const employesToShow = this.state.employes;\n    const afterFiltering = employesToShow.filter(emp => {\n      return emp.nom.includes(string);\n    });\n    this.setState({\n      employesToShow: afterFiltering\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      callback: searchValue => this.changeValuesToShow(searchValue),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    }, \"nom\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }\n    }, \"prenom\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }\n    }, \"age\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, \"Voir plus d'info\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, this.state.employesToShow.map((emp, index) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 37\n        }\n      }, emp.nom), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 37\n        }\n      }, emp.prenom), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 37\n        }\n      }, emp.age), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/employe/${emp.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 41\n        }\n      }, \"Lien\")));\n    }))), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, \"Nom:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: event => {\n        this.setState({\n          inputNom: event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, \"Prenom:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: event => {\n        this.setState({\n          inputPrenom: event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"Age:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      onChange: event => {\n        this.setState({\n          inputAge: event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: event => this.addEmploye(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \"Ajouter\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    employes: state.employes.listeEmployes\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addEmploye: employeObjet => {\n      dispatch({\n        type: \"addEmploye\",\n        payload: {\n          newEmploye: employeObjet\n        }\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm);","map":{"version":3,"sources":["C:/Users/matth/Desktop/développement de client avancé/Correction/react-component/src/component/SearchForm.js"],"names":["React","SearchBar","Link","connect","SearchForm","Component","constructor","props","state","employes","employesToShow","inputNom","inputPrenom","inputAge","componentDidUpdate","prevProps","setState","addEmploye","event","preventDefault","newEmploye","nom","prenom","age","parseInt","changeValuesToShow","string","afterFiltering","filter","emp","includes","render","searchValue","map","index","id","target","value","mapStateToProps","listeEmployes","mapDispatchToProps","dispatch","employeObjet","type","payload"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,OAAR,QAAsB,aAAtB;;AAEA,MAAMC,UAAN,SAAyBJ,KAAK,CAACK,SAA/B,CAAwC;AAEpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QADZ;AAETC,MAAAA,cAAc,EAAE,KAAKH,KAAL,CAAWE,QAFlB;AAGTE,MAAAA,QAAQ,EAAE,EAHD;AAITC,MAAAA,WAAW,EAAE,EAJJ;AAKTC,MAAAA,QAAQ,EAAE;AALD,KAAb;AAOH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAG,KAAKR,KAAL,KAAeQ,SAAlB,EAA4B;AACxB,WAAKC,QAAL,CAAc;AACVP,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QADX;AAEVC,QAAAA,cAAc,EAAE,KAAKH,KAAL,CAAWE;AAFjB,OAAd;AAIH;AACJ;;AAEDQ,EAAAA,UAAU,CAACC,KAAD,EAAO;AACbA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,UAAU,GAAG;AACfC,MAAAA,GAAG,EAAE,KAAKb,KAAL,CAAWG,QADD;AAEfW,MAAAA,MAAM,EAAE,KAAKd,KAAL,CAAWI,WAFJ;AAGfW,MAAAA,GAAG,EAAEC,QAAQ,CAAC,KAAKhB,KAAL,CAAWK,QAAZ;AAHE,KAAnB;AAKA,SAAKN,KAAL,CAAWU,UAAX,CAAsBG,UAAtB;AACH;;AAEDK,EAAAA,kBAAkB,CAACC,MAAD,EAAQ;AACtB,UAAMhB,cAAc,GAAG,KAAKF,KAAL,CAAWC,QAAlC;AACA,UAAMkB,cAAc,GAAGjB,cAAc,CAACkB,MAAf,CAAsBC,GAAG,IAAI;AAChD,aAAOA,GAAG,CAACR,GAAJ,CAAQS,QAAR,CAAiBJ,MAAjB,CAAP;AACH,KAFsB,CAAvB;AAGA,SAAKV,QAAL,CAAc;AAACN,MAAAA,cAAc,EAAEiB;AAAjB,KAAd;AACH;;AAEDI,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAGC,WAAD,IAAiB,KAAKP,kBAAL,CAAwBO,WAAxB,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ,CADJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKxB,KAAL,CAAWE,cAAX,CAA0BuB,GAA1B,CAA8B,CAACJ,GAAD,EAAMK,KAAN,KAAgB;AAC3C,0BACI;AAAI,QAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKL,GAAG,CAACR,GAAT,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKQ,GAAG,CAACP,MAAT,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKO,GAAG,CAACN,GAAT,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAG,YAAWM,GAAG,CAACM,EAAG,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAJJ,CADJ;AAUH,KAXA,CADL,CATJ,CAFJ,eA0BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AACO,MAAA,QAAQ,EAAGjB,KAAD,IAAW;AACjB,aAAKF,QAAL,CAAc;AAACL,UAAAA,QAAQ,EAAEO,KAAK,CAACkB,MAAN,CAAaC;AAAxB,SAAd;AACH,OAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANJ,eAOI;AAAO,MAAA,IAAI,EAAC,MAAZ;AACO,MAAA,QAAQ,EAAGnB,KAAD,IAAW;AACjB,aAAKF,QAAL,CAAc;AAACJ,UAAAA,WAAW,EAAEM,KAAK,CAACkB,MAAN,CAAaC;AAA3B,SAAd;AACH,OAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAYI;AAAO,MAAA,IAAI,EAAC,QAAZ;AACO,MAAA,QAAQ,EAAGnB,KAAD,IAAW;AACjB,aAAKF,QAAL,CAAc;AAACH,UAAAA,QAAQ,EAAEK,KAAK,CAACkB,MAAN,CAAaC;AAAxB,SAAd;AACH,OAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,eAgBI;AAAQ,MAAA,OAAO,EAAGnB,KAAD,IAAW,KAAKD,UAAL,CAAgBC,KAAhB,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAhBJ,CA1BJ,CADJ;AA+CH;;AAxFmC;;AA2FxC,MAAMoB,eAAe,GAAI9B,KAAD,IAAW;AAC/B,SAAO;AACHC,IAAAA,QAAQ,EAAGD,KAAK,CAACC,QAAN,CAAe8B;AADvB,GAAP;AAGH,CAJD;;AAMA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACHxB,IAAAA,UAAU,EAAGyB,YAAD,IAAkB;AAC1BD,MAAAA,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAE,YAAP;AAAqBC,QAAAA,OAAO,EAAC;AAACxB,UAAAA,UAAU,EAAEsB;AAAb;AAA7B,OAAD,CAAR;AACH;AAHE,GAAP;AAKH,CAND;;AAQA,eAAevC,OAAO,CAACmC,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CpC,UAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nclass SearchForm extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            employes: this.props.employes,\r\n            employesToShow: this.props.employes,\r\n            inputNom: \"\",\r\n            inputPrenom: \"\",\r\n            inputAge: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props !== prevProps){\r\n            this.setState({\r\n                employes: this.props.employes,\r\n                employesToShow: this.props.employes\r\n            });\r\n        }\r\n    }\r\n\r\n    addEmploye(event){\r\n        event.preventDefault();\r\n        const newEmploye = {\r\n            nom: this.state.inputNom,\r\n            prenom: this.state.inputPrenom,\r\n            age: parseInt(this.state.inputAge)\r\n        }\r\n        this.props.addEmploye(newEmploye);\r\n    }\r\n\r\n    changeValuesToShow(string){\r\n        const employesToShow = this.state.employes;\r\n        const afterFiltering = employesToShow.filter(emp => {\r\n            return emp.nom.includes(string);\r\n        });\r\n        this.setState({employesToShow: afterFiltering});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SearchBar callback={(searchValue) => this.changeValuesToShow(searchValue)}/>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>nom</th>\r\n                            <th>prenom</th>\r\n                            <th>age</th>\r\n                            <th>Voir plus d'info</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.employesToShow.map((emp, index) => {\r\n                            return (\r\n                                <tr key={index}>\r\n                                    <td>{emp.nom}</td>\r\n                                    <td>{emp.prenom}</td>\r\n                                    <td>{emp.age}</td>\r\n                                    <td>\r\n                                        <Link to={`/employe/${emp.id}`}>Lien</Link>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n                <form>\r\n                    <label>Nom:</label>\r\n                    <input type=\"text\"\r\n                           onChange={(event) => {\r\n                               this.setState({inputNom: event.target.value});\r\n                           }}/>\r\n                    <label >Prenom:</label>\r\n                    <input type=\"text\"\r\n                           onChange={(event) => {\r\n                               this.setState({inputPrenom: event.target.value});\r\n                           }}/>\r\n                    <label >Age:</label>\r\n                    <input type=\"number\"\r\n                           onChange={(event) => {\r\n                               this.setState({inputAge: event.target.value});\r\n                           }}/>\r\n                    <button onClick={(event) => this.addEmploye(event)}>Ajouter</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        employes : state.employes.listeEmployes\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addEmploye: (employeObjet) => {\r\n            dispatch({type: \"addEmploye\", payload:{newEmploye: employeObjet}});\r\n        }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm);"]},"metadata":{},"sourceType":"module"}