{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\matth\\\\Desktop\\\\client_web_avence\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import{connect}from\"react-redux\";import Login from\"../component/Connection\";import Menu from\"../component/Menu\";import Tableau from\"../component/Garage/GarageTable\";import MechanicTableSelected from\"../component/Garage/MechanicTableSelected\";import{getAllGarage,deleteGarage,updateGarage,postGarage,getAllMecanicien,updateMecanicien,deleteMecanicien,postMecano}from\"../component/API\";var Routes=/*#__PURE__*/function(_React$Component){_inherits(Routes,_React$Component);var _super=_createSuper(Routes);function Routes(props){var _this;_classCallCheck(this,Routes);_this=_super.call(this,props);_this.state={user:undefined};return _this;}_createClass(Routes,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.state.user===undefined){this.setState({user:this.props.userStore});}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(Route,{path:\"/menu\",render:function render(){return _this2.state.user===undefined?/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}):_this2.state.user.userType===\"mecano\"?/*#__PURE__*/React.createElement(Menu,null):/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/garages\",render:function render(){return _this2.state.user===undefined?/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}):_this2.state.user.userType===\"mecano\"?/*#__PURE__*/React.createElement(Tableau,{getAllElements:getAllGarage,deleteElement:deleteGarage,updateGarage:updateGarage,postGarage:postGarage}):/*#__PURE__*/React.createElement(Redirect,{to:'/login'});}}),/*#__PURE__*/React.createElement(Route,{path:\"/mechanics\",render:function render(){return _this2.state.user===undefined?/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}):_this2.state.user.userType===\"mecano\"?/*#__PURE__*/React.createElement(Tableau,{getAllElements:getAllMecanicien,deleteElement:deleteMecanicien,updateGarage:updateMecanicien,postGarage:postMecano}):/*#__PURE__*/React.createElement(Redirect,{to:'/login'});}}))));}}]);return Routes;}(React.Component);var mapStateToProps=function mapStateToProps(state){console.log(state.login.userStore);return{userStore:state.login.userStore};};export default connect(mapStateToProps)(Routes);","map":{"version":3,"sources":["C:/Users/matth/Desktop/client_web_avence/src/routes/Routes.js"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","connect","Login","Menu","Tableau","MechanicTableSelected","getAllGarage","deleteGarage","updateGarage","postGarage","getAllMecanicien","updateMecanicien","deleteMecanicien","postMecano","Routes","props","state","user","undefined","prevProps","prevState","snapshot","setState","userStore","userType","Component","mapStateToProps","console","log","login"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport Login from \"../component/Connection\";\r\nimport Menu from \"../component/Menu\";\r\nimport Tableau from \"../component/Garage/GarageTable\"\r\nimport MechanicTableSelected from \"../component/Garage/MechanicTableSelected\"\r\nimport {getAllGarage,deleteGarage,updateGarage,postGarage,getAllMecanicien,updateMecanicien,deleteMecanicien,postMecano} from \"../component/API\";\r\nclass Routes extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user : undefined\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.state.user === undefined){\r\n            this.setState({user:this.props.userStore});\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Router>\r\n                    <Switch>\r\n                        <Route path=\"/login\" component={Login}/>\r\n\r\n                        <Route path=\"/menu\" render={()=>{\r\n                            return this.state.user === undefined ? <Redirect to=\"/login\"/>:\r\n                                (this.state.user.userType === \"mecano\")? <Menu/> : <Redirect to={\"/\"}/>\r\n                        }}/>\r\n\r\n                        <Route path=\"/garages\" render={()=>{\r\n                        return this.state.user === undefined? <Redirect to={\"/login\"}/> : (this.state.user.userType === \"mecano\")?<Tableau getAllElements = {getAllGarage} deleteElement = {deleteGarage} updateGarage = {updateGarage} postGarage = {postGarage}/> : <Redirect to={'/login'}/>\r\n                        }}/>\r\n\r\n                        <Route path=\"/mechanics\" render={()=>{\r\n                            return this.state.user === undefined? <Redirect to={\"/login\"}/> : (this.state.user.userType === \"mecano\")?<Tableau getAllElements = {getAllMecanicien} deleteElement = {deleteMecanicien} updateGarage = {updateMecanicien} postGarage = {postMecano}/> : <Redirect to={'/login'}/>\r\n                        }}/>\r\n\r\n\r\n\r\n                    </Switch>\r\n                </Router>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log(state.login.userStore);\r\n    return {\r\n        userStore: state.login.userStore,\r\n    }\r\n};\r\nexport default connect(mapStateToProps)(Routes);"]},"metadata":{},"sourceType":"module"}